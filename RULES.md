# 프로젝트 규칙 및 코드 작성 가이드라인 (RULES.md)

이 문서는 ReWOO Agent 프로젝트의 일관성, 가독성 및 유지보수성을 보장하기 위한 규칙과 코드 작성 가이드라인을 정의합니다.

## 1. 코드 스타일

*   **PEP 8 준수:** 모든 Python 코드는 [PEP 8 스타일 가이드](https://www.python.org/dev/peps/pep-0008/)를 따라야 합니다.
    *   들여쓰기는 공백 4칸을 사용합니다.
    *   한 줄의 최대 길이는 120자로 제한합니다. (Linter 설정과 일치)
    *   적절한 위치에 빈 줄을 사용하여 코드 블록을 구분합니다.
*   **Linter 사용:** 코드 스타일 검사를 위해 `flake8` 또는 `ruff`와 같은 Linter 사용을 권장합니다. 프로젝트 루트에 Linter 설정 파일(`.flake8` 또는 `pyproject.toml` 내 `[tool.ruff]`)을 포함하여 일관된 규칙을 적용합니다.
*   **명확성 우선:** 코드의 명확성을 최우선으로 고려합니다. 지나치게 간결하거나 복잡한 표현보다는 이해하기 쉬운 코드를 선호합니다.

## 2. 네이밍 컨벤션

*   **변수 및 함수:** 소문자와 밑줄(\_)을 사용합니다 (스네이크 케이스). 예: `agent_input`, `process_evidence`.
*   **클래스:** 첫 글자를 대문자로 시작하는 카멜 케이스(파스칼 케이스)를 사용합니다. 예: `ReWOOPlanner`, `MCPToolExecutor`.
*   **상수:** 모든 글자를 대문자로 하고 밑줄(\_)로 단어를 구분합니다. 예: `MAX_ITERATIONS`, `DEFAULT_MODEL_PATH`.
*   **모듈 및 패키지:** 짧고 의미 있는 소문자 이름을 사용합니다. 밑줄 사용은 피하는 것이 좋습니다. 예: `planner`, `utils`.
*   **의미 있는 이름:** 변수, 함수, 클래스 등의 이름은 그 역할과 의미를 명확하게 나타내도록 작성합니다. 축약어나 모호한 이름은 피합니다.

## 3. 함수 및 메서드

*   **단일 책임 원칙 (SRP):** 함수와 메서드는 하나의 명확한 기능만 수행하도록 작성합니다. 기능이 너무 복잡해지면 여러 개의 작은 함수로 분리합니다.
*   **간결성:** 함수는 가능한 한 짧게 유지합니다. 일반적으로 30줄을 넘지 않도록 노력합니다.
*   **파라미터:** 함수 파라미터의 개수는 가능한 한 적게 유지합니다 (이상적으로는 3개 이하). 파라미터가 많아지면 객체나 딕셔너리로 묶는 것을 고려합니다.
*   **Docstrings:** 모든 공개(public) 함수, 클래스, 메서드에는 Docstring을 작성하여 목적, 파라미터, 반환 값 등을 설명합니다. [PEP 257](https://www.python.org/dev/peps/pep-0257/) 스타일을 따릅니다.

## 4. 타입 힌팅 (Type Hinting)

*   **적극적인 사용:** 모든 함수 정의와 변수 선언에 타입 힌트를 사용하는 것을 강력히 권장합니다 ([PEP 484](https://www.python.org/dev/peps/pep-0484/)). 이는 코드의 가독성을 높이고 정적 분석 도구(예: `mypy`)를 통해 오류를 사전에 발견하는 데 도움이 됩니다.
*   **명확한 타입:** `Any` 타입 사용은 최소화하고 가능한 한 구체적인 타입을 명시합니다. 복잡한 타입은 `typing` 모듈의 제네릭, `TypeAlias` 등을 활용하여 정의합니다.

## 5. 임포트 (Imports)

*   **표준 라이브러리 우선:** 임포트 순서는 표준 라이브러리, 서드파티 라이브러리, 로컬 애플리케이션 순서로 그룹화하고 각 그룹 사이에 빈 줄을 추가합니다.
*   **절대 임포트:** 가급적 절대 임포트(absolute import)를 사용합니다. 상대 임포트(relative import)는 패키지 내부에서만 제한적으로 사용합니다.
*   **와일드카드 임포트 금지:** `from module import *` 와 같은 와일드카드 임포트는 사용하지 않습니다.

## 6. 주석 (Comments)

*   **영어로 작성:** 모든 주석은 영어로 작성합니다.
*   **필요한 경우에만:** 코드가 자체적으로 명확하게 설명되지 않는 복잡한 로직, 특정 결정의 이유 등을 설명하기 위해 주석을 사용합니다. 코드를 단순히 반복하는 주석은 피합니다.
*   **간결성:** 주석은 간결하고 명확하게 작성합니다.
*   **TODO 주석:** 임시 코드나 개선이 필요한 부분에는 `# TODO:` 주석을 사용하여 명시하고, 가능한 경우 관련 이슈 번호나 작성자 이름을 포함합니다.

## 7. 오류 처리 (Error Handling)

*   **명시적 처리:** 예상 가능한 오류는 `try...except` 블록을 사용하여 명시적으로 처리합니다.
*   **구체적인 예외:** `except Exception:` 보다는 가능한 한 구체적인 예외 타입을 명시하여 처리합니다.
*   **적절한 로깅:** 오류 발생 시 관련 정보를 로그로 남겨 디버깅을 돕습니다.

---
이 가이드라인은 프로젝트 진행 중 필요에 따라 수정되거나 보완될 수 있습니다. 